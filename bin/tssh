#!/usr/bin/env bash 

# Start a tmux session after ssh-ing to the remote host,
# Has tty and environment variable based session names so that 
# you can reliably reconnect to each session.
#
# $: tssh my-host

# Default to env set by terminator terminal emulator
TNAME="$TE"

# Fallback to tty of terminal
[ -z "$TNAME" ] && TNAME="tty-$(basename $(tty))"

ssh -t "$@" 'bash -l -c "tmux new -A -s '"$TNAME"'"'
